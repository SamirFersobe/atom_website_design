"use strict";

const {
  existsSync,
  createWriteStream
} = require('fs');

const {
  join
} = require('path');

module.exports = function addIgnore() {
  // Add `.layer0` to the gitignore file
  const ignorePath = join(process.cwd(), '.gitignore');

  if (existsSync(ignorePath)) {
    const stream = createWriteStream(ignorePath, {
      flags: 'a'
    });
    stream.write('# Layer0 generated build directory\n.layer0' + '\n');
    stream.end();
  }
};