"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Converts a JavaScript Regexp instance to a string compatible with edge.
 * See https://docs.fastly.com/en/guides/vcl-regular-expression-cheat-sheet
 * @param regex
 */
function toEdgeRegex(regex) {
    return `${regex.ignoreCase ? '(?i)' : ''}${regex.source}`.replace(/\\\//g, '/');
}
exports.default = toEdgeRegex;
/**
 * Reverse transformation. Mostly used for unit tests.
 * @param edgeRegex
 */
function fromEdgeRegex(edgeRegex) {
    const ignoreCase = edgeRegex.indexOf('(?i)') === 0;
    if (ignoreCase) {
        edgeRegex = edgeRegex.slice('(?i)'.length);
    }
    return new RegExp(edgeRegex.replace(/\//g, '/'), ignoreCase ? 'i' : '');
}
exports.fromEdgeRegex = fromEdgeRegex;
